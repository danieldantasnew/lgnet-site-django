{% extends 'lgnet_app/base.html' %}
{% load static %}
{% block title %}LGNET | Escritórios{% endblock %}

{% block content %}
    <section class="bg-light-background dark:bg-dark-primary py-8 lg:pt-16 lg:pb-20 transition-colors duration-300">
        <div data-animation="slideTop" class="container flex flex-col gap-8">
            <div>
                <h1 class="mb-[2px]">Nossos Escritórios<strong>.</strong></h1>
                <p class="sub-text">Confira nossas localizações, horários e outras informações no mapa interativo.</p>
            </div>

            <div class="relative h-full w-full overflow-hidden rounded-lg shadow-lg dark:shadow-neutral-700">
                <div id="map" class="w-full h-full min-h-138 lg:min-h-[80vh]"></div>
                <div data-info-map class="
                    hidden 
                    animate-fadeIn 
                    absolute 
                    top-0 
                    left-0 
                    z-30 
                    h-full 
                    w-full 
                    pb-4
                    md:w-[40vw] 
                    md:max-w-[440px] 
                    dark:text-light-background 
                    bg-light-background 
                    dark:bg-dark-primary
                ">
                    <div class="
                        flex 
                        items-center 
                        justify-between 
                        py-5 
                        px-4 
                        bg-primary-variant 
                        dark:bg-secondary 
                        text-light-background 
                        dark:text-secondary-variant

                    ">
                        <h2 class="text-lg md:text-xl font-semibold">Dados do Escritório</h2>
                        <span data-close-info-map class="transition-colors text-2xl cursor-pointer hover:text-primary dark:hover:text-neutral-50"><i class="fa-regular fa-circle-xmark"></i></span>
                    </div>
                    <div class="
                        px-4
                        py-4
                        flex
                        flex-col
                        gap-4
                        [&_h4]:font-semibold
                        [&_h4]:text-xs
                        [&_h4]:text-neutral-400
                        [&_h4]:mb-1
                        [&_p]:text-neutral-600
                        [&_p]:text-xs
                        md:[&_p]:text-sm
                        [&_p]:font-medium
                        dark:[&_p]:text-neutral-50
                    ">
                        <div class="flex items-center gap-2">
                            <span class="text-xl text-primary-variant dark:text-secondary p-2 bg-neutral-100 dark:bg-neutral-600 rounded-full h-9 w-9 flex items-center justify-center"><i class="fa-solid fa-building"></i></span>
                            <p data-nome-escritorio class="!text-lg text-neutral-600 dark:!text-light-background !font-medium"></p>
                        </div>
                        <div class="flex flex-col sm:flex-row sm:items-center justify-between">
                            <div>
                                <h4>Endereço</h4>
                                <p data-endereco class="truncate w-full pr-1 md:max-w-69"></p>
                            </div>
                            <div class="
                                flex
                                gap-2
                                mt-2
                                [&>button]:text-neutral-500
                                [&>button]:transition-all
                                [&>button]:dark:text-neutral-400
                                [&>button]:dark:bg-[#3d3d3d]
                                [&>button]:dark:hover:text-secondary
                                [&>button]:cursor-pointer
                                [&>button]:bg-neutral-200
                                [&>button]:p-1
                                [&>button]:h-8
                                [&>button]:w-8
                                [&>button]:rounded-full
                                [&>button]:hover:bg-neutral-500
                                [&>button]:hover:text-light-background
                                [&>div]:text-nowrap
                            ">
                                <button data-btn-tooltip-copy-address data-tooltip-target="tooltip-copy-address" type="button">
                                    <i class="fa-regular fa-copy text-lg"></i>
                                </button>
                                <div id="tooltip-copy-address" role="tooltip" class="absolute z-10 invisible inline-block px-3 py-2 !bottom-1 text-sm font-medium text-white transition-opacity duration-300 bg-neutral-900 rounded-lg shadow-xs opacity-0 tooltip dark:bg-neutral-500">
                                    Copiar endereço
                                    <div class="tooltip-arrow" data-popper-arrow></div>
                                </div>

                                <button data-btn-tooltip-street-view data-tooltip-target="tooltip-street-view" type="button">
                                    <i class="fa-solid fa-street-view text-lg"></i>
                                </button>
                                <div id="tooltip-street-view" role="tooltip" class="absolute z-10 invisible inline-block px-3 py-2 !bottom-1 text-sm font-medium text-white transition-opacity duration-300 bg-neutral-900 rounded-lg shadow-xs opacity-0 tooltip dark:bg-neutral-500">
                                    Ver no Street View
                                    <div class="tooltip-arrow" data-popper-arrow></div>
                                </div>
                                <button data-btn-tooltip-map data-tooltip-target="tooltip-map" type="button">
                                    <i class="fa-solid fa-map-location-dot text-lg"></i>
                                </button>
                                <div id="tooltip-map" role="tooltip" class="absolute z-10 invisible inline-block px-3 py-2 !bottom-1 text-sm font-medium text-white transition-opacity duration-300 bg-neutral-900 rounded-lg shadow-xs opacity-0 tooltip dark:bg-neutral-500">
                                    Ver no Google Maps
                                    <div class="tooltip-arrow" data-popper-arrow></div>
                                </div>
                            </div>
                        </div>
                        <div>
                            <h4>Funcionamento Hoje</h4>
                            <div class="flex items-center gap-1 mt-[2px]">
                                <div class="flex items-center gap-1">
                                    <p data-funcionamento class="text-xs text-neutral-600 dark:text-light-background font-medium truncate max-w-70"></p>
                                    <span class="h-1 w-1 rounded-full bg-neutral-500 dark:bg-neutral-300 block m-1"></span>
                                    <p data-aberto-fechado class="flex items-center gap-1 text-xs font-semibold"></p>
                                </div>
                            </div>
                        </div>
                        <div>
                            <h4>Telefone</h4>
                            <p data-info-telefone></p>
                        </div>
                        <div>
                            <h4>Horários de funcionamento</h4>
                            <div 
                            data-todos-horarios
                            class="
                                mt-3
                                grid
                                grid-cols-[1fr_2fr]
                                gap-x-4
                                gap-y-2
                                text-xs
                                md:text-sm
                                text-neutral-600
                                dark:text-neutral-100
                                font-medium
                                [&>ul]:inline-flex
                                [&>ul]:flex-col
                                [&>ul]:gap-2
                                [&>ul>li]:inline
                            ">
                                <ul>
                                </ul>
                                <ul>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    {% include "lgnet_app/partials/explorar.html" %}
{% endblock %}

{% block scripts %}
  {{ block.super }}
  <link href="https://unpkg.com/maplibre-gl@^5.6.1/dist/maplibre-gl.css" rel="stylesheet" />
  <script src="https://unpkg.com/maplibre-gl@^5.6.1/dist/maplibre-gl.js"></script>
  <script type="module" src="{% static 'lgnet_app/js/nossosEscritorios.js' %}"></script>
{% endblock %}